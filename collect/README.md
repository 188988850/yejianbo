# 资源采集系统

这是一个用于采集资源内容的PHP系统，支持内容过滤、图片下载等功能。

## 系统要求

- PHP 7.0+
- MySQL 5.6+
- PHP扩展：
  - curl
  - pdo
  - pdo_mysql
  - json

## 目录结构

```
collect/
├── config/
│   └── config.php      # 配置文件
├── includes/
│   └── functions.php   # 核心功能类
├── templates/
│   └── default/        # 模板文件
├── data/
│   ├── logs/          # 日志文件
│   ├── images/        # 下载的图片
│   └── resources/     # 采集的资源
└── collect.php        # 主程序
```

## 配置说明

1. 数据库配置（config/config.php）
   - 修改数据库连接信息
   - 设置数据表前缀

2. 系统配置
   - 设置采集间隔时间
   - 配置超时时间
   - 设置文件保存路径

3. 过滤规则
   - 配置关键词替换规则
   - 设置内容过滤选项

## 使用方法

1. 确保系统要求已满足
2. 修改配置文件
3. 运行采集程序：
   ```bash
   php collect.php
   ```

## 注意事项

1. 请确保有足够的磁盘空间
2. 建议在服务器负载较低时运行
3. 定期检查日志文件
4. 注意遵守目标网站的robots.txt规则

## 日志说明

日志文件保存在 `data/logs/` 目录下，按日期命名。
包含以下信息：
- 登录状态
- 资源采集进度
- 错误信息
- 图片下载状态

## 安全建议

1. 定期更改密码
2. 限制文件访问权限
3. 及时清理临时文件
4. 监控系统资源使用情况

## 常见问题

1. 数据库连接失败
   - 检查数据库配置
   - 确认数据库服务是否运行

2. 图片下载失败
   - 检查网络连接
   - 确认目标URL是否可访问

3. 内存不足
   - 调整PHP内存限制
   - 分批处理大量数据 